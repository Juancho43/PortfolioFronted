<div class="JoinContainer">
<div class="Buttons">
  <button type="button" (click)="toggleShow()">
    @if (show()) {
      Ocultar etiquetas
    } @else {
      Mostrar etiquetas
    }
  </button>
  <button type="reset" (click)="reset()">Limpiar tags</button>
</div>

@if (show()) {
  <div>
    <div>
      @for (tag of currentTags(); track $index) {
        <div class="Container">
          <app-tag [tag]="tag" />
          <p (click)="editTag(tag)">Editar</p>
          <p (click)="removeTag(tag)">Eliminar</p>
        </div>
      }
    </div>

    <div class="Buttons">
      <button type="button" (click)="toggleShowSearch()">
        @if (showSearch()) {
          Ocultar busqueda
        } @else {
          Mostrar busqueda
        }
      </button>
      <button type="button" (click)="toggleShowForm()">
        @if (showForm()) {
          Ocultar formulario
        } @else {
          Mostrar formulario
        }
      </button>
    </div>

    @if (showSearch()) {
      <app-tag-searcher (tagSelected)="addTag($event)" />
    }
    @if (showForm()) {
      <app-tag-form
        [currentTag]="selectedTag()!"
        (tagUpdated)="updateTag($event)"
        (tagCreated)="addTag($event)"
        (cleaned)="handleClearForm()"
      />
    }
  </div>
}
</div>
